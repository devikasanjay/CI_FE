const CONTRACT_PAGE_SIZE = 100;

const fetchContracts = async (
  search: string,
  offset: number
): Promise<{
  items: ContractWorkspace[];
  hasMore: boolean;
}> => {
  const res = await fetch(
    `/api/contract-mgmt/only_contracts?name=${encodeURIComponent(search)}&offset=${offset}&limit=${CONTRACT_PAGE_SIZE}`
  );

  const json = await res.json();
  const data = json.data;

  return {
    items: data.contracts.map((c: any) => ({
      id: String(c.contract_id),
      label: c.contract_workspace,
    })),
    hasMore: data.has_more,
  };
};
